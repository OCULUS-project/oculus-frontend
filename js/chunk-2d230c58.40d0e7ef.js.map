{"version":3,"sources":["webpack:///./src/views/Jobs.vue?8ce6","webpack:///src/views/Jobs.vue","webpack:///./src/views/Jobs.vue?3d97","webpack:///./src/views/Jobs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","error","attrs","key","jobs","id","staticClass","headers","itemsPerPage","dense","loadingData","search","scopedSlots","_u","fn","model","value","callback","$$v","expression","proxy","ref","item","on","$event","goToFolder","patient","runJob","status","staticRenderFns","name","data","components","ErrorMessage","methods","$router","push","console","log","jobId","newStatus","mounted","getJobs","component","VCol","VContainer","VDataTable","VIcon","VRow","VSwitch","VTextField","VToolbar"],"mappings":"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","file":"js/chunk-2d230c58.40d0e7ef.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h1',[_vm._v(\"Jobs\")]),(!_vm.error)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-data-table',{key:_vm.jobs.id,staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.jobs,\"items-per-page\":_vm.itemsPerPage,\"dense\":_vm.dense,\"multi-sort\":\"\",\"loading\":_vm.loadingData,\"loading-text\":\"Fetching data...\",\"search\":_vm.search,\"no-data-text\":\"You don't have any created jobs!\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-text-field',{attrs:{\"label\":\"Search current page\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('div',{staticClass:\"flex-grow-1\"}),_c('v-switch',{staticClass:\"mt-2\",attrs:{\"label\":\"Dense table\",\"color\":\"teal\"},model:{value:(_vm.dense),callback:function ($$v) {_vm.dense=$$v},expression:\"dense\"}})],1)]},proxy:true},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"teal\",\"small\":\"\"},on:{\"click\":function($event){return _vm.goToFolder(item.patient)}}},[_vm._v(\" mdi-folder \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"teal\",\"small\":\"\"},on:{\"click\":function($event){return _vm.runJob(item.id, item.status)}}},[_vm._v(\" mdi-play \")])]}}],null,false,3977130828)})],1)],1):_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('ErrorMessage',{attrs:{\"message\":\"Couldn't fetch jobs data. There are some problems with API.\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <h1>Jobs</h1>\r\n    <v-row v-if=\"!error\">\r\n      <v-col cols=\"12\">\r\n        <v-data-table\r\n          :headers=\"headers\"\r\n          :items=\"jobs\"\r\n          :items-per-page=\"itemsPerPage\"\r\n          class=\"elevation-1\"\r\n          :dense=\"dense\"\r\n          multi-sort\r\n          :loading=\"loadingData\"\r\n          loading-text=\"Fetching data...\"\r\n          :search=\"search\"\r\n          :key=\"jobs.id\"\r\n          no-data-text=\"You don't have any created jobs!\"\r\n        >\r\n          <template v-slot:top>\r\n            <v-toolbar flat color=\"white\">\r\n              <v-text-field\r\n                v-model=\"search\"\r\n                label=\"Search current page\"\r\n                single-line\r\n                hide-details\r\n              ></v-text-field>\r\n              <div class=\"flex-grow-1\"></div>\r\n              <v-switch\r\n                v-model=\"dense\"\r\n                label=\"Dense table\"\r\n                class=\"mt-2\"\r\n                color=\"teal\"\r\n              ></v-switch>\r\n            </v-toolbar>\r\n          </template>\r\n\r\n          <template v-slot:item.actions=\"{ item }\">\r\n            <v-icon\r\n              color=\"teal\"\r\n              small\r\n              class=\"mr-2\"\r\n              @click=\"goToFolder(item.patient)\"\r\n            >\r\n              mdi-folder\r\n            </v-icon>\r\n            <v-icon\r\n              color=\"teal\"\r\n              small\r\n              class=\"mr-2\"\r\n              @click=\"runJob(item.id, item.status)\"\r\n            >\r\n              mdi-play\r\n            </v-icon>\r\n          </template>\r\n        </v-data-table>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-else>\r\n      <v-col cols=\"12\">\r\n        <ErrorMessage\r\n          message=\"Couldn't fetch jobs data. There are some problems with API.\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDataWithoutURL,\r\n  putDataWithoutURL\r\n} from \"../utils/fetch-functions.js\";\r\nimport ErrorMessage from \"../components/ErrorMessage.vue\";\r\n\r\nexport default {\r\n  name: \"Jobs\",\r\n  data: () => ({\r\n    jobs: [],\r\n    headers: [\r\n      //{ text: \"ID\", value: \"id\" },\r\n      { text: \"Id\", value: \"id\" },\r\n      { text: \"Doctor\", value: \"doctor\" },\r\n      { text: \"Patient\", value: \"patient\" },\r\n      { text: \"Metrics\", value: \"patientMetrics\" },\r\n      { text: \"Image File\", value: \"imageFile\" },\r\n      { text: \"Created\", value: \"created\" },\r\n      { text: \"Updated\", value: \"updated\" },\r\n      { text: \"Status\", value: \"status\" },\r\n      { text: \"Job Actions\", value: \"actions\", sortable: false }\r\n    ],\r\n    dense: true,\r\n    search: \"\",\r\n    loadingData: false,\r\n\r\n    //Footer Data\r\n    itemsPerPageArray: [30, 60, 90, 120, 240],\r\n    page: 0,\r\n    itemsPerPage: 30,\r\n    numberOfPages: 1,\r\n    numberOfPatients: 0,\r\n    error: \"\"\r\n  }),\r\n  components: {\r\n    ErrorMessage\r\n  },\r\n  methods: {\r\n    async getJobs() {\r\n      this.loadingData = true;\r\n\r\n      await getDataWithoutURL(\"jobs\")\r\n        .then(response => {\r\n          this.jobs = response.data ? response.data : [];\r\n        })\r\n        .catch(error => {\r\n          this.error = error;\r\n        });\r\n\r\n      this.loadingData = false;\r\n    },\r\n    goToFolder(id) {\r\n      this.$router.push(\"/patient/\" + id);\r\n    },\r\n    runJob(id, status) {\r\n      console.log(\"runJob\", id);\r\n\r\n      let newStatus = status == \"DONE\" ? \"NEW\" : \"DONE\";\r\n\r\n      putDataWithoutURL(\"jobs/status\", {\r\n        jobId: id,\r\n        newStatus: newStatus\r\n      })\r\n        .then(() => {\r\n          this.getJobs();\r\n        })\r\n        .catch(err => {\r\n          this.error = err;\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getJobs();\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Jobs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Jobs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Jobs.vue?vue&type=template&id=c3ed0852&\"\nimport script from \"./Jobs.vue?vue&type=script&lang=js&\"\nexport * from \"./Jobs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCol,VContainer,VDataTable,VIcon,VRow,VSwitch,VTextField,VToolbar})\n"],"sourceRoot":""}