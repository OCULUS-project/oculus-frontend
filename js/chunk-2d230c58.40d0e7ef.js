(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230c58"],{ee68:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Jobs")]),e.error?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ErrorMessage",{attrs:{message:"Couldn't fetch jobs data. There are some problems with API."}})],1)],1):a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{key:e.jobs.id,staticClass:"elevation-1",attrs:{headers:e.headers,items:e.jobs,"items-per-page":e.itemsPerPage,dense:e.dense,"multi-sort":"",loading:e.loadingData,"loading-text":"Fetching data...",search:e.search,"no-data-text":"You don't have any created jobs!"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-text-field",{attrs:{label:"Search current page","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("div",{staticClass:"flex-grow-1"}),a("v-switch",{staticClass:"mt-2",attrs:{label:"Dense table",color:"teal"},model:{value:e.dense,callback:function(t){e.dense=t},expression:"dense"}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"teal",small:""},on:{click:function(t){return e.goToFolder(o.patient)}}},[e._v(" mdi-folder ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"teal",small:""},on:{click:function(t){return e.runJob(o.id,o.status)}}},[e._v(" mdi-play ")])]}}],null,!1,3977130828)})],1)],1)],1)},n=[],s=(a("d3b7"),a("96cf"),a("1d87")),r=a("8e27"),i={name:"Jobs",data:function(){return{jobs:[],headers:[{text:"Id",value:"id"},{text:"Doctor",value:"doctor"},{text:"Patient",value:"patient"},{text:"Metrics",value:"patientMetrics"},{text:"Image File",value:"imageFile"},{text:"Created",value:"created"},{text:"Updated",value:"updated"},{text:"Status",value:"status"},{text:"Job Actions",value:"actions",sortable:!1}],dense:!0,search:"",loadingData:!1,itemsPerPageArray:[30,60,90,120,240],page:0,itemsPerPage:30,numberOfPages:1,numberOfPatients:0,error:""}},components:{ErrorMessage:r["a"]},methods:{getJobs:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingData=!0,t.next=3,regeneratorRuntime.awrap(Object(s["a"])("jobs").then((function(t){e.jobs=t.data?t.data:[]})).catch((function(t){e.error=t})));case 3:this.loadingData=!1;case 4:case"end":return t.stop()}}),null,this)},goToFolder:function(e){this.$router.push("/patient/"+e)},runJob:function(e,t){var a=this;console.log("runJob",e);var o="DONE"==t?"NEW":"DONE";Object(s["c"])("jobs/status",{jobId:e,newStatus:o}).then((function(){a.getJobs()})).catch((function(e){a.error=e}))}},mounted:function(){this.getJobs()}},l=i,c=a("2877"),u=a("6544"),d=a.n(u),b=a("62ad"),h=a("a523"),v=a("8fea"),f=a("132d"),m=a("0fd9"),g=a("b73d"),p=a("8654"),x=a("71d9"),w=Object(c["a"])(l,o,n,!1,null,null,null);t["default"]=w.exports;d()(w,{VCol:b["a"],VContainer:h["a"],VDataTable:v["a"],VIcon:f["a"],VRow:m["a"],VSwitch:g["a"],VTextField:p["a"],VToolbar:x["a"]})}}]);
//# sourceMappingURL=chunk-2d230c58.40d0e7ef.js.map